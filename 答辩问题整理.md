# 答辩问题整理



## 问题一

**老师**：用了消息队列之后能感受到它的好处，对吧？那这个有没有想过还有其他地方能用到消息队列？

**答**：还有一个地方是访问重定向的服务的时候，可以直接先进消息队列。我们想过这个方案，但是，这个有个问题就是重定向，他这个是一个延迟很敏感的，他并不是像写日志那样你慢一两秒没有问题。如果重定向服务在那里等消息，然后再进来的话，虽然说可能并发压力小，但是其实对用户来说我们觉得是不太友好的，其实他的反应会下降。

**老师**:所以说这个不太适合，这不是一个比较好的消息队列的应用场景，因为他的确是对延迟有影响。它就是希望我按了回车，马上就能给我反应。因为我看你们微服务最后也就两个，所以说没有太大的体会，其实你们这不算微服务，只是把两个功能独立出去，我觉得这是很正常的。真正做微服务的时候，会把数据拆开，然后就会有数据的一致性问题，怎么去保证这个问题啊，这时候用到消息队列就比较有意义。

## 问题二

**老师**：为什么用kafka

**答**：因为我们的微服务是用go写的，kafka是开源的，对go语言的社区支持就很多。

## 问题三

**老师**：你们的技术栈的架构图是怎么得出来的

**答**：是一步一步进化来的，最开始的时候前端就是react+node，后端就是spring。有一部分都是老师提到过的工具。apiary是因为我们经常出现前后端API对不上的问题，后来就使用它统一管理。go是调研了一下，是并发性能比较好的web开发的手段。然后查了一下，go比较简洁优雅，适合快速上手学习。

## 问题四

**老师**：你们的日志真的有派上用场嘛

**答**：日志是我们debug用的，因为加上日志之后spring和redirect都是每一步打印信息。

**老师**：在你们做的过程中会不会发现，日志那块对你们机子吃掉的资源很多。

**答**：是的，所以就放到另外一台机子上了

**老师**：你们一共有几台机子

**答**：5台

**老师**：你们有没有调研过es太重了要换一点轻量级的东西

**答**：因为当时看的就是它储存占用很大，内存占用很高。

## 问题五

**老师**：看你们性能优化那张图，优化后CPU还是跑满了，你们是怎么去分析这个问题？

**答**：所以后面我们做了微服务和kafka。但是我们后来用go之后输出不了这个数据。